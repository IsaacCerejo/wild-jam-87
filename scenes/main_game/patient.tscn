[gd_scene load_steps=21 format=3 uid="uid://mtilpmnd7m7y"]

[ext_resource type="Script" uid="uid://c3wghgg2g717r" path="res://scripts/main_game/patient.gd" id="1_s1xdg"]
[ext_resource type="Texture2D" uid="uid://dj84m1ovp6jep" path="res://assets/patient/blank_parts/torso.png" id="3_5mt75"]
[ext_resource type="Shader" uid="uid://bxfmwgtfjfhjo" path="res://resources/shaders/shadow.gdshader" id="4_ddug4"]
[ext_resource type="Texture2D" uid="uid://d0nxnu1lno442" path="res://assets/patient/eyes/eyes_07.png" id="6_5mt75"]
[ext_resource type="Texture2D" uid="uid://cydyqswqfl3mb" path="res://assets/patient/blank_parts/head.png" id="6_6vb6e"]
[ext_resource type="Texture2D" uid="uid://c31kxhqc57r52" path="res://assets/patient/hair/hair_09.png" id="7_6vb6e"]
[ext_resource type="Texture2D" uid="uid://bhaii651jxouo" path="res://assets/patient/blank_parts/leg.png" id="8_5mt75"]
[ext_resource type="Texture2D" uid="uid://8guy4d6qos1b" path="res://assets/patient/blank_parts/arm.png" id="8_q6v5p"]
[ext_resource type="Script" uid="uid://me7cgjqr5843" path="res://scripts/main_game/patient_drag.gd" id="9_ddug4"]
[ext_resource type="Script" uid="uid://bxu1ceexvxg2" path="res://scripts/main_game/patient_skin_manager.gd" id="27_jmvsg"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6vb6e"]
shader = ExtResource("4_ddug4")
shader_parameter/tint_color = Color(0.263, 0.42, 0.447, 1)
shader_parameter/key_color = Color(0.29803923, 0.49803922, 0.47058824, 1)
shader_parameter/key_threshold = 0.02

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6vb6e"]
size = Vector2(172, 120)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5mt75"]
shader = ExtResource("4_ddug4")
shader_parameter/tint_color = Color(0.263, 0.42, 0.447, 1)
shader_parameter/key_color = Color(0.29803923, 0.49803922, 0.47058824, 1)
shader_parameter/key_threshold = 0.02

[sub_resource type="CircleShape2D" id="CircleShape2D_6vb6e"]
radius = 39.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_xkswm"]
shader = ExtResource("4_ddug4")
shader_parameter/tint_color = Color(0.263, 0.42, 0.447, 1)
shader_parameter/key_color = Color(0.29803923, 0.49803922, 0.47058824, 1)
shader_parameter/key_threshold = 0.02

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3dkft"]
size = Vector2(251.10478, 40.02314)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vfgv1"]
shader = ExtResource("4_ddug4")
shader_parameter/tint_color = Color(0.263, 0.42, 0.447, 1)
shader_parameter/key_color = Color(0.29803923, 0.49803922, 0.47058824, 1)
shader_parameter/key_threshold = 0.02

[sub_resource type="ShaderMaterial" id="ShaderMaterial_q6v5p"]
shader = ExtResource("4_ddug4")
shader_parameter/tint_color = Color(0.263, 0.42, 0.447, 1)
shader_parameter/key_color = Color(0.29803923, 0.49803922, 0.47058824, 1)
shader_parameter/key_threshold = 0.02

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_6vb6e"]
radius = 15.969711
height = 157.54086

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3dkft"]
shader = ExtResource("4_ddug4")
shader_parameter/tint_color = Color(0.263, 0.42, 0.447, 1)
shader_parameter/key_color = Color(0.29803923, 0.49803922, 0.47058824, 1)
shader_parameter/key_threshold = 0.02

[node name="Patient" type="Node2D"]
script = ExtResource("1_s1xdg")

[node name="DragManager" type="Node2D" parent="."]
script = ExtResource("9_ddug4")

[node name="MousePin" type="PinJoint2D" parent="DragManager"]
node_a = NodePath("MouseBody")
softness = 1.0

[node name="MouseBody" type="StaticBody2D" parent="DragManager/MousePin"]

[node name="Pins" type="Node2D" parent="."]

[node name="PinJoint2D" type="PinJoint2D" parent="Pins"]
position = Vector2(-192, 0)
node_a = NodePath("../../BodyParts/Torso")
node_b = NodePath("../../BodyParts/Head")
bias = 0.9
disable_collision = false

[node name="PinJoint2D2" type="PinJoint2D" parent="Pins"]
position = Vector2(-147, -60)
node_a = NodePath("../../BodyParts/Torso")
node_b = NodePath("../../BodyParts/LeftArm")
bias = 0.9
disable_collision = false

[node name="PinJoint2D3" type="PinJoint2D" parent="Pins"]
position = Vector2(-147, 60)
node_a = NodePath("../../BodyParts/Torso")
node_b = NodePath("../../BodyParts/RightArm")
bias = 0.9
disable_collision = false
angular_limit_lower = -2.0943952

[node name="PinJoint2D4" type="PinJoint2D" parent="Pins"]
position = Vector2(31, 45)
node_a = NodePath("../../BodyParts/Torso")
node_b = NodePath("../../BodyParts/RightLeg")
bias = 0.9
disable_collision = false

[node name="PinJoint2D5" type="PinJoint2D" parent="Pins"]
position = Vector2(28, -45)
node_a = NodePath("../../BodyParts/Torso")
node_b = NodePath("../../BodyParts/LeftLeg")
bias = 0.9
disable_collision = false

[node name="BodyParts" type="Node2D" parent="."]
z_index = 6
y_sort_enabled = true

[node name="Torso" type="RigidBody2D" parent="BodyParts"]
y_sort_enabled = true
position = Vector2(-68, 0)
gravity_scale = 0.0
freeze = true
freeze_mode = 1

[node name="shadow" type="Sprite2D" parent="BodyParts/Torso"]
show_behind_parent = true
z_index = -5
material = SubResource("ShaderMaterial_6vb6e")
position = Vector2(6, 5)
texture = ExtResource("3_5mt75")

[node name="blank_torso" type="Sprite2D" parent="BodyParts/Torso"]
z_index = -4
texture = ExtResource("3_5mt75")

[node name="torso_skin" type="Sprite2D" parent="BodyParts/Torso"]
z_index = -4

[node name="collision" type="CollisionShape2D" parent="BodyParts/Torso"]
position = Vector2(-23, 0)
shape = SubResource("RectangleShape2D_6vb6e")

[node name="Head" type="RigidBody2D" parent="BodyParts"]
y_sort_enabled = true
position = Vector2(-235, 0)
input_pickable = true
mass = 35.0
gravity_scale = 0.0
linear_damp = 2.0
angular_damp = 8.0

[node name="shadow" type="Sprite2D" parent="BodyParts/Head"]
show_behind_parent = true
z_index = -5
material = SubResource("ShaderMaterial_5mt75")
position = Vector2(4, 8)
texture = ExtResource("6_6vb6e")

[node name="base_head" type="Sprite2D" parent="BodyParts/Head"]
z_index = -3
texture = ExtResource("6_6vb6e")

[node name="mouth" type="Sprite2D" parent="BodyParts/Head"]
z_index = -3

[node name="eyes" type="Sprite2D" parent="BodyParts/Head"]
z_index = -3
texture = ExtResource("6_5mt75")

[node name="hair" type="Sprite2D" parent="BodyParts/Head"]
self_modulate = Color(0.101960786, 0.07450981, 0.0627451, 1)
z_index = -2
position = Vector2(-35, 0)
texture = ExtResource("7_6vb6e")

[node name="collision" type="CollisionShape2D" parent="BodyParts/Head"]
position = Vector2(-3, 0)
shape = SubResource("CircleShape2D_6vb6e")

[node name="LeftLeg" type="RigidBody2D" parent="BodyParts"]
y_sort_enabled = true
position = Vector2(150, -70)
rotation = -0.23038344
input_pickable = true
mass = 35.0
gravity_scale = 0.0
linear_damp = 2.0
angular_damp = 8.0

[node name="shadow" type="Sprite2D" parent="BodyParts/LeftLeg"]
show_behind_parent = true
z_index = -5
material = SubResource("ShaderMaterial_xkswm")
position = Vector2(2, 9)
texture = ExtResource("8_5mt75")

[node name="blank_leg" type="Sprite2D" parent="BodyParts/LeftLeg"]
z_index = -1
texture = ExtResource("8_5mt75")

[node name="leg_skin" type="Sprite2D" parent="BodyParts/LeftLeg"]
z_index = -1

[node name="collision" type="CollisionShape2D" parent="BodyParts/LeftLeg"]
position = Vector2(13.435, 0)
shape = SubResource("RectangleShape2D_3dkft")

[node name="RightLeg" type="RigidBody2D" parent="BodyParts"]
y_sort_enabled = true
position = Vector2(149, 70)
rotation = 0.23561947
input_pickable = true
mass = 35.0
gravity_scale = 0.0
linear_damp = 2.0
angular_damp = 8.0

[node name="shadow" type="Sprite2D" parent="BodyParts/RightLeg"]
show_behind_parent = true
z_index = -5
material = SubResource("ShaderMaterial_vfgv1")
position = Vector2(0, 9)
texture = ExtResource("8_5mt75")
flip_v = true

[node name="blank_leg" type="Sprite2D" parent="BodyParts/RightLeg"]
z_index = -1
texture = ExtResource("8_5mt75")
flip_v = true

[node name="leg_skin" type="Sprite2D" parent="BodyParts/RightLeg"]
z_index = -1
flip_v = true

[node name="collision" type="CollisionShape2D" parent="BodyParts/RightLeg"]
position = Vector2(12.950455, -7.6293945e-06)
shape = SubResource("RectangleShape2D_3dkft")

[node name="LeftArm" type="RigidBody2D" parent="BodyParts"]
y_sort_enabled = true
position = Vector2(-71, -105)
rotation = -0.49741885
input_pickable = true
mass = 35.0
gravity_scale = 0.0
linear_damp = 2.0
angular_damp = 8.0

[node name="shadow" type="Sprite2D" parent="BodyParts/LeftArm"]
show_behind_parent = true
z_index = -5
material = SubResource("ShaderMaterial_q6v5p")
position = Vector2(2, 9)
texture = ExtResource("8_q6v5p")

[node name="blank_arm" type="Sprite2D" parent="BodyParts/LeftArm"]
z_index = -1
texture = ExtResource("8_q6v5p")

[node name="arm_skin" type="Sprite2D" parent="BodyParts/LeftArm"]
z_index = -1

[node name="collision" type="CollisionShape2D" parent="BodyParts/LeftArm"]
position = Vector2(30.885445, -0.29897106)
rotation = 1.5707964
shape = SubResource("CapsuleShape2D_6vb6e")

[node name="RightArm" type="RigidBody2D" parent="BodyParts"]
y_sort_enabled = true
position = Vector2(-72, 105)
rotation = 0.50963616
input_pickable = true
mass = 35.0
gravity_scale = 0.0
linear_damp = 2.0
angular_damp = 8.0

[node name="shadow" type="Sprite2D" parent="BodyParts/RightArm"]
show_behind_parent = true
z_index = -5
material = SubResource("ShaderMaterial_3dkft")
position = Vector2(-1, 9)
texture = ExtResource("8_q6v5p")
flip_v = true

[node name="blank_arm" type="Sprite2D" parent="BodyParts/RightArm"]
z_index = -1
texture = ExtResource("8_q6v5p")
flip_v = true

[node name="arm_skin" type="Sprite2D" parent="BodyParts/RightArm"]
z_index = -1
texture = ExtResource("8_q6v5p")
flip_v = true

[node name="collision" type="CollisionShape2D" parent="BodyParts/RightArm"]
position = Vector2(31.175, 0)
rotation = 1.5707964
shape = SubResource("CapsuleShape2D_6vb6e")

[node name="PatientSkinManager" type="Node2D" parent="."]
script = ExtResource("27_jmvsg")
