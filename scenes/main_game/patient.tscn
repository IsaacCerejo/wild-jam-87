[gd_scene load_steps=17 format=3 uid="uid://mtilpmnd7m7y"]

[ext_resource type="Script" uid="uid://c3wghgg2g717r" path="res://scripts/main_game/patient.gd" id="1_s1xdg"]
[ext_resource type="Texture2D" uid="uid://dj84m1ovp6jep" path="res://assets/patient/blank_parts/torso.png" id="3_5mt75"]
[ext_resource type="Texture2D" path="res://assets/patient/torso/torso.png" id="3_rujrq"]
[ext_resource type="Shader" uid="uid://bxfmwgtfjfhjo" path="res://resources/shaders/shadow.gdshader" id="4_ddug4"]
[ext_resource type="Texture2D" uid="uid://b7q4fvme8ah78" path="res://assets/patient/head/head.png" id="4_up4j8"]
[ext_resource type="Texture2D" uid="uid://bhaii651jxouo" path="res://assets/patient/blank_parts/leg.png" id="8_5mt75"]
[ext_resource type="Texture2D" uid="uid://8guy4d6qos1b" path="res://assets/patient/blank_parts/arm.png" id="8_q6v5p"]
[ext_resource type="Script" uid="uid://me7cgjqr5843" path="res://scripts/main_game/patient_drag.gd" id="9_ddug4"]
[ext_resource type="Script" uid="uid://bxu1ceexvxg2" path="res://scripts/main_game/patient_skin_manager.gd" id="27_jmvsg"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6vb6e"]
shader = ExtResource("4_ddug4")
shader_parameter/tint_color = Color(0.18757862, 0.31231412, 0.33311018, 1)
shader_parameter/key_color = Color(0.29803923, 0.49803922, 0.47058824, 1)
shader_parameter/key_threshold = 0.02

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5mt75"]
shader = ExtResource("4_ddug4")
shader_parameter/tint_color = Color(0.18757862, 0.31231412, 0.33311018, 1)
shader_parameter/key_color = Color(0.29803923, 0.49803922, 0.47058824, 1)
shader_parameter/key_threshold = 0.02

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_6q3dj"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_q6v5p"]
shader = ExtResource("4_ddug4")
shader_parameter/tint_color = Color(0.18757862, 0.31231412, 0.33311018, 1)
shader_parameter/key_color = Color(0.29803923, 0.49803922, 0.47058824, 1)
shader_parameter/key_threshold = 0.02

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3dkft"]
shader = ExtResource("4_ddug4")
shader_parameter/tint_color = Color(0.18757862, 0.31231412, 0.33311018, 1)
shader_parameter/key_color = Color(0.29803923, 0.49803922, 0.47058824, 1)
shader_parameter/key_threshold = 0.02

[sub_resource type="ShaderMaterial" id="ShaderMaterial_xkswm"]
shader = ExtResource("4_ddug4")
shader_parameter/tint_color = Color(0.18757862, 0.31231412, 0.33311018, 1)
shader_parameter/key_color = Color(0.29803923, 0.49803922, 0.47058824, 1)
shader_parameter/key_threshold = 0.02

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vfgv1"]
shader = ExtResource("4_ddug4")
shader_parameter/tint_color = Color(0.18757862, 0.31231412, 0.33311018, 1)
shader_parameter/key_color = Color(0.29803923, 0.49803922, 0.47058824, 1)
shader_parameter/key_threshold = 0.02

[node name="Patient" type="Node2D"]
script = ExtResource("1_s1xdg")

[node name="DragManager" type="Node2D" parent="."]
script = ExtResource("9_ddug4")

[node name="MousePin" type="PinJoint2D" parent="DragManager"]
node_a = NodePath("MouseBody")
softness = 1.0

[node name="MouseBody" type="StaticBody2D" parent="DragManager/MousePin"]

[node name="Pins" type="Node2D" parent="."]

[node name="PinJoint2D" type="PinJoint2D" parent="Pins"]
position = Vector2(-192, 3)
node_a = NodePath("../../MushroomAreas/Torso")
node_b = NodePath("../../MushroomAreas/Head")
angular_limit_lower = -2.0943952

[node name="PinJoint2D2" type="PinJoint2D" parent="Pins"]
position = Vector2(-147, -57)
node_a = NodePath("../../MushroomAreas/Torso")
node_b = NodePath("../../MushroomAreas/LeftArm")
angular_limit_lower = -2.0943952

[node name="PinJoint2D3" type="PinJoint2D" parent="Pins"]
position = Vector2(-147, 60)
node_a = NodePath("../../MushroomAreas/Torso")
node_b = NodePath("../../MushroomAreas/RightArm")
angular_limit_lower = -2.0943952

[node name="PinJoint2D4" type="PinJoint2D" parent="Pins"]
position = Vector2(44, 47)
node_a = NodePath("../../MushroomAreas/Torso")
node_b = NodePath("../../MushroomAreas/RightLeg")

[node name="PinJoint2D5" type="PinJoint2D" parent="Pins"]
position = Vector2(43, -44)
node_a = NodePath("../../MushroomAreas/Torso")
node_b = NodePath("../../MushroomAreas/LeftLeg")

[node name="MushroomAreas" type="Node2D" parent="."]
z_index = 1

[node name="Torso" type="RigidBody2D" parent="MushroomAreas"]
position = Vector2(-68, 6)
gravity_scale = 0.0
inertia = 1007.5
freeze = true
freeze_mode = 1

[node name="blank_torso" type="Sprite2D" parent="MushroomAreas/Torso"]
texture = ExtResource("3_5mt75")

[node name="torso_skin" type="Sprite2D" parent="MushroomAreas/Torso"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="MushroomAreas/Torso"]
polygon = PackedVector2Array(-116, 23, -131, 12, -133, -13, -118, -28, -106, -66, -89, -83, -24, -71, 15, -68, 59, -71, 92, -79, 115, -12, 114, 1, 108, 72, 85, 75, 60, 65, -20, 63, -101, 64, -114, 34)

[node name="TorsoArea" type="Line2D" parent="MushroomAreas/Torso"]
position = Vector2(45, -23)
rotation = -2.6403892
points = PackedVector2Array(120.25691, -51.0615, 87.668144, -108.46335, 33.209877, -80.908005, -26.990908, -51.34677, 13.910694, 12.903204, 72.273506, -17.931557)
width = 60.0
default_color = Color(1, 0, 0, 0)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="torsoShadow" type="Sprite2D" parent="MushroomAreas/Torso"]
self_modulate = Color(0, 0.011764706, 0.3019608, 0.41960785)
show_behind_parent = true
z_index = -1
material = SubResource("ShaderMaterial_6vb6e")
position = Vector2(-6, 11)
texture = ExtResource("3_rujrq")

[node name="Head" type="RigidBody2D" parent="MushroomAreas"]
position = Vector2(-235, 0)
input_pickable = true
mass = 7.553
gravity_scale = 0.0
linear_damp = 4.0

[node name="Sprite2D" type="Sprite2D" parent="MushroomAreas/Head"]
texture = ExtResource("4_up4j8")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="MushroomAreas/Head"]
polygon = PackedVector2Array(-54, 2, -47, -17, -33, -34, -11, -41, 16, -35, 29, -29, 31, -22, 47, -15, 53, 2, 52, 19, 36, 28, 28, 38, 7, 47, -12, 49, -32, 42, -45, 27)

[node name="HeadArea" type="Line2D" parent="MushroomAreas/Head"]
position = Vector2(-12, 29)
points = PackedVector2Array(31, -4, -7, -1, -23, -26, -1, -51, 30, -45)
width = 35.0
default_color = Color(1, 0, 0, 0)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="torsoShadow2" type="Sprite2D" parent="MushroomAreas/Head"]
self_modulate = Color(0, 0.011764706, 0.3019608, 0.41960785)
show_behind_parent = true
z_index = -1
material = SubResource("ShaderMaterial_5mt75")
position = Vector2(-9, 11)
texture = ExtResource("4_up4j8")

[node name="HairRoot" type="Node2D" parent="MushroomAreas/Head"]
position = Vector2(-10, 3)

[node name="Hair" type="Sprite2D" parent="MushroomAreas/Head/HairRoot"]
texture = SubResource("CompressedTexture2D_6q3dj")

[node name="LeftArm" type="RigidBody2D" parent="MushroomAreas"]
position = Vector2(-71, -97)
input_pickable = true
mass = 67.932
gravity_scale = 0.0
linear_damp = 2.0

[node name="blank_arm" type="Sprite2D" parent="MushroomAreas/LeftArm"]
rotation = -0.48694685
texture = ExtResource("8_q6v5p")

[node name="arm_skin" type="Sprite2D" parent="MushroomAreas/LeftArm"]
rotation = -0.48694685

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="MushroomAreas/LeftArm"]
rotation = 0.014211261
polygon = PackedVector2Array(-99.54936, 32.417942, -75.80759, 14.078705, -13.2971115, -20.81314, 75.01178, -70.07307, 84.025085, -69.20104, 96.26546, -52.3733, 95.43609, -40.3603, 5.2410736, 16.92723, -43.370285, 44.62083, -63.226166, 54.904037, -90.223434, 55.287727, -99.3362, 47.41643)

[node name="LeftArmArea" type="Line2D" parent="MushroomAreas/LeftArm"]
position = Vector2(-83, 30.000008)
rotation = -0.18549728
points = PackedVector2Array(20.763504, -2.2083664, 71.99763, -14.97805, 119.4848, -29.46833, 168.13927, -44.75701)
width = 35.0
default_color = Color(1, 0, 0, 0)
begin_cap_mode = 2
end_cap_mode = 2

[node name="LeftArmShadow" type="Sprite2D" parent="MushroomAreas/LeftArm"]
show_behind_parent = true
z_index = -1
material = SubResource("ShaderMaterial_q6v5p")
position = Vector2(1, 13)
rotation = -0.48694685
texture = ExtResource("8_q6v5p")

[node name="RightArm" type="RigidBody2D" parent="MushroomAreas"]
position = Vector2(-72, 101)
input_pickable = true
mass = 67.932
gravity_scale = 0.0
linear_damp = 2.0

[node name="blank_arm" type="Sprite2D" parent="MushroomAreas/RightArm"]
rotation = 0.48694685
texture = ExtResource("8_q6v5p")
flip_v = true

[node name="arm_skin" type="Sprite2D" parent="MushroomAreas/RightArm"]
rotation = 0.48737496
texture = ExtResource("8_q6v5p")
flip_v = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="MushroomAreas/RightArm"]
polygon = PackedVector2Array(-101, -54, -84, -61, -62, -59, -27, -36, 1, -20, 98, 30, 102, 48, 93, 63, 69, 61, -29, 11, -92, -23, -104, -43)

[node name="RightArmArea" type="Line2D" parent="MushroomAreas/RightArm"]
position = Vector2(-78.000015, -42.999996)
rotation = 0.7707949
scale = Vector2(0.99999994, 0.99999994)
points = PackedVector2Array(15.472099, 5.8833923, 72.344376, -14.501495, 120.670334, -30.768097, 176.08725, -48.345512)
width = 35.0
default_color = Color(1, 0, 0, 0)
begin_cap_mode = 2
end_cap_mode = 2

[node name="RightArmShadow" type="Sprite2D" parent="MushroomAreas/RightArm"]
show_behind_parent = true
z_index = -1
material = SubResource("ShaderMaterial_3dkft")
position = Vector2(0, 13)
rotation = 0.48694685
texture = ExtResource("8_q6v5p")
flip_v = true

[node name="LeftLeg" type="RigidBody2D" parent="MushroomAreas"]
position = Vector2(144, -65)
input_pickable = true
mass = 67.932
gravity_scale = 0.0
linear_damp = 2.0

[node name="blank_leg" type="Sprite2D" parent="MushroomAreas/LeftLeg"]
rotation = -0.23693149
texture = ExtResource("8_5mt75")

[node name="leg_skin" type="Sprite2D" parent="MushroomAreas/LeftLeg"]
rotation = -0.23736478

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="MushroomAreas/LeftLeg"]
polygon = PackedVector2Array(-141, 16, -122, -8, -61, -15, -47, -13, 130, -53, 141, -45, 142, -27, 138, -16, -46, 41, -92, 60, -125, 58, -137, 50)

[node name="LeftLegArea" type="Line2D" parent="MushroomAreas/LeftLeg"]
position = Vector2(-56, 12)
points = PackedVector2Array(17, 0, 82, -16, 134, -31, 181, -44)
width = 35.0
default_color = Color(1, 0, 0, 0)
begin_cap_mode = 2
end_cap_mode = 2

[node name="LeftLegShadow" type="Sprite2D" parent="MushroomAreas/LeftLeg"]
self_modulate = Color(0, 0.011764706, 0.3019608, 0.41960785)
show_behind_parent = true
z_index = -1
material = SubResource("ShaderMaterial_xkswm")
position = Vector2(0, 13)
rotation = -0.23736478
texture = ExtResource("8_5mt75")

[node name="RightLeg" type="RigidBody2D" parent="MushroomAreas"]
position = Vector2(140, 68)
input_pickable = true
mass = 67.932
gravity_scale = 0.0
linear_damp = 2.0

[node name="blank_leg" type="Sprite2D" parent="MushroomAreas/RightLeg"]
rotation = 0.23736478
texture = ExtResource("8_5mt75")
flip_v = true

[node name="leg_skin" type="Sprite2D" parent="MushroomAreas/RightLeg"]
rotation = 0.23736478
flip_v = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="MushroomAreas/RightLeg"]
polygon = PackedVector2Array(-131, -39, -112, -65, -86, -64, -50, -49, 107, 1, 145, 13, 148, 26, 143, 43, 136, 48, 26, 25, -55, 9, -112, 5, -134, -13)

[node name="RightLegArea" type="Line2D" parent="MushroomAreas/RightLeg"]
position = Vector2(-34.000008, -16.000004)
rotation = 0.52074564
points = PackedVector2Array(0.9950714, 1.7348938, 58.76999, -14.109951, 110.71507, -30.0695, 162.91537, -41.564205)
width = 35.01
default_color = Color(1, 0, 0, 0)
begin_cap_mode = 2
end_cap_mode = 2

[node name="RightLegShadow" type="Sprite2D" parent="MushroomAreas/RightLeg"]
self_modulate = Color(0, 0.011764706, 0.3019608, 0.41960785)
show_behind_parent = true
z_index = -1
material = SubResource("ShaderMaterial_vfgv1")
position = Vector2(0, 13)
rotation = 0.23736478
texture = ExtResource("8_5mt75")
flip_v = true

[node name="PatientSkinManager" type="Node2D" parent="."]
script = ExtResource("27_jmvsg")
